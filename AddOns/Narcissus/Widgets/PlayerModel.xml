<Ui xsi:schemaLocation="http://www.blizzard.com/wow/ui/..\FrameXML\UI.xsd">
    <Script file="PlayerModel.lua"/>
	<Button name="Narci_RaceOptionButton_Template" virtual="true">
		<Size x="80" y="20"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" parentKey="Background" hidden="false">
					<Color r="0" g="0" b="0" a="0"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="1">
				<Texture setAllPoints="true" parentKey="Highlight" hidden="true">
					<Color r="1" g="1" b="1" a="0.25"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="2">
				<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" text="Label" maxLines="1" parentKey="Name">
					<Size x="0" y="20"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="8" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnEnter function="Narci_RaceOptionButton_OnEnter"/>
			<OnLeave function="Narci_RaceOptionButton_OnLeave"/>
			<OnClick function="Narci_RaceOptionButton_OnClick"/>
		</Scripts>	
	</Button>

	<Button name="Narci_ColorButton_Template" frameStrata="DIALOG" virtual="true">
		<Size>
			<AbsDimension x="24" y="24"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Color" setAllPoints="true">
					<Color r="0.5" g="0.5" b="0.5" a="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture parentKey="Highlight" setAllPoints="true" hidden="true" alphaMode="ADD">
					<Color r="1" g="1" b="1" a="0.5"/>
				</Texture>
				<MaskTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ColorButton-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
					<MaskedTextures>
						<MaskedTexture childKey="Color"/>
						<MaskedTexture childKey="Highlight"/>
					</MaskedTextures>
				</MaskTexture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="1" hidden="false" parentKey="Border">
					<TexCoords left="0.75" right="0.8359375" top="0" bottom="0.171875"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad function="ColorButton_OnLoad"/>
			<OnEnter>
				self.Highlight:Show();
			</OnEnter>
			<OnLeave>
				self.Highlight:Hide();
			</OnLeave>
			<OnClick function="Narci_ColorButton_OnClick"/>
		</Scripts>
	</Button>

	<Button name="Narci_ModelIndex_Template" frameStrata="DIALOG" virtual="true" frameLevel="21">
		<Size>
			<AbsDimension x="24" y="24"/>
		</Size>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture parentKey="Color" setAllPoints="true">
					<Color r="0.5" g="0.5" b="0.5" a="0"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">
				<Texture parentKey="Highlight" setAllPoints="true" hidden="true" alphaMode="ADD">
					<Color r="1" g="1" b="1" a="0.5"/>
				</Texture>
				<MaskTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ColorButton-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
					<MaskedTextures>
						<MaskedTexture childKey="Color"/>
						<MaskedTexture childKey="Highlight"/>
					</MaskedTextures>
				</MaskTexture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="1" hidden="false" parentKey="Border">
					<TexCoords left="0.75" right="0.8359375" top="0" bottom="0.171875"/>
				</Texture>
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ModelIndexIcons" Alpha="1" parentKey="Icon">
					<Size x="20" y="20"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
					<TexCoords left="0" right="0.25" top="0" bottom="1"/>
				</Texture>
				<FontString inherits="NarciIndicatorLetter" justifyH="CENTER" justifyV="MIDDLE" parentKey="ID" outline="NORMAL" hidden="true">
					<Size x="24" y="0"/>
					<Color r="0.25" g="0.78" b="0.92" a="1"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
					<Shadow>
						<Offset>
							<AbsDimension x="1" y="-1"/>
						</Offset>
						<Color r="0" g="0" b="0"/>
					</Shadow>
				</FontString>
				<FontString inherits="NarciIndicatorLetter" justifyH="CENTER" justifyV="MIDDLE" parentKey="Label" hidden="true" text="Player"> <!--Player Name-->
					<Size x="0" y="12"/>
					<Anchors>
						<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="TOP" x="0" y="0"/>
					</Anchors>
				</FontString>
				<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" parentKey="Status" hidden="false"> <!--Hidden/Connected/Unconnected/Pending-->
					<Color r="0.6" g="0.6" b="0.6"/>
					<Size x="0" y="12"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.Label" relativePoint="RIGHT" x="0" y="0"/>
					</Anchors>
				</FontString>
				<Texture parentKey="LabelColor" setAllPoints="true" hidden="true">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Label" relativePoint="TOPLEFT" x="-4" y="2"/>	<!--Player Name Background-->
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Status" relativePoint="BOTTOMRIGHT" x="4" y="0"/>
					</Anchors>
					<Color a="0.8" r="0" g="0" b="0"/>
					<Gradient orientation="VERTICAL">
						<MinColor a="1" r="1" g="1" b="1"/>
						<MaxColor a="0" r="1" g="1" b="1"/>
					</Gradient>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="AnimFrame" hidden="true">
				<Scripts>
					<OnLoad>
						self.duration = 0.2;
						self.point, self.relativeTo, self.relativePoint, self.StartX = self:GetParent():GetPoint();
						self.relativeTo = self:GetParent():GetParent().ReferenceFrame
					</OnLoad>
					<OnShow>
						self.duration = 0.2;
						self.TimeSinceLastUpdate = 0;
						_, _, _, self.StartX = self:GetParent():GetPoint()
						--self.duration = math.abs(self.StartX - self.EndX) / 100
					</OnShow>
					<OnUpdate function="Narci_ModelIndexButton_AnimFrame_OnUpdate"/>
					<OnHide>
						self:GetParent():SetPoint("LEFT", self.relativeTo, "LEFT", self.EndX, 0);
					</OnHide>
				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
				self.order = self:GetID();
				self.IsOn = false;
				self.LockHighlight = false;
				self.ID:SetText(self:GetID());
				if not self:GetParent().buttons then
					self:GetParent().buttons = {};
				end
				tinsert(self:GetParent().buttons, self);
			</OnLoad>
			<OnEnter function="Narci_ModelIndexButton_OnEnter"/>
			<OnMouseDown>
				self.ID:SetPoint("CENTER", 0.5, -0.5);
			</OnMouseDown>
			<OnMouseUp>
				self.ID:SetPoint("CENTER", 0, 0);
			</OnMouseUp>
			<OnDragStart function="Narci_ModelIndexButton_OnDragStart"/>
			<OnDragStop function="Narci_ModelIndexButton_OnDragStop"/>
			<OnLeave>
				if not (self.IsOn or self.LockHighlight) then
					self.Highlight:Hide();
				end
				if not self:GetParent().UpdateFrame:IsShown() then
					self.Label:Hide();
					self.LabelColor:Hide();
					self.Status:Hide();
				end
			</OnLeave>
			<OnClick function="Narci_ModelIndexButton_OnClick"/>
		</Scripts>
	</Button>

	<Slider name="NarciModelSliderTemplate" orientation="HORIZONTAL" enableMouse="true" virtual="true"  valueStep="0.01" obeyStepOnDrag="false" minValue="0" maxValue="1" defaultValue="0.01">
		<Size x="156" y="24"/>
		<HitRectInsets>
			<AbsInset left="-4" right="-4" top="4" bottom="4"/>
		</HitRectInsets>
		<ThumbTexture parentKey="Thumb" name="$parentThumb" setAllPoints="true" rotation="45">
			<Size x="12" y="12"/>
            <Color r="0" g="0" b="0" a="0.0"/>
		</ThumbTexture>
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="1">
				<Texture setAllPoints="true" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LayerButton">
					<TexCoords left="0" right="0.75390625" top="0.515625" bottom="0.6953125"/>
					<Size x="196" y="24"/>
					<Anchors>
						<Anchor point="RIGHT" relativePoint="RIGHT" x="9"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="BACKGROUND" textureSubLevel="4">
				<Texture parentKey="VirtualThumb" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LayerButton">
					<TexCoords left="0.875" right="0.9375" top="0" bottom="0.25"/>
                    <Size x="16" y="32"/>
					<Anchors>
						<Anchor point="CENTER" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
				<Texture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Icons">
					<TexCoords left="0" right="0.25" top="0" bottom="1"/>
                    <Size x="34" y="34"/>
					<Anchors>
						<Anchor point="CENTER" relativePoint="LEFT" x="-13.5" y="0"/>
					</Anchors>
				</Texture>
				<FontString justifyH="CENTER" justifyV="MIDDLE" maxLines="1" inherits="NarciHighlightFont" parentKey="Label" hidden="true">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent.Icon" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnEnter>
				self.VirtualThumb:SetTexCoord(0.9375, 1, 0, 0.25);
			</OnEnter>
			<OnLeave>
				self.VirtualThumb:SetTexCoord(0.875, 0.9375, 0, 0.25);
			</OnLeave>
		</Scripts>
	</Slider>

	<Frame name="Narci_GroundShadowFrame_Template" parentKey="GroundShadow" frameStrata="LOW" enableMouse="true" movable="true" hidden="true" virtual="true">
		<Size x="384" y="242"/>
		<Anchors>
			<Anchor point="BOTTOM" relativeTo="UIParent" relativePoint="BOTTOM" x="0" y="0"/>
		</Anchors>
		<HitRectInsets>
			<AbsInset left="0" right="0" top="0" bottom="0"/>
		</HitRectInsets>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture hidden="false" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\GroundShadow.tga" parentKey="Shadow">
					<Size x="512" y="512"/>
					<Anchors>
						<Anchor point="CENTER" y="25"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame setAllPoints="true" parentKey="Border" Alpha="0">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="0" y="0"/>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="0" y="50"/>
				</Anchors>
				<Backdrop edgeFile="Interface\AddOns\Narcissus\Art\Tooltip\Tooltip-Border-White" tile="true">
					<EdgeSize>
						<AbsValue val="12"/>
					</EdgeSize>
					<TileSize>
						<AbsValue val="12"/>
					</TileSize>
					<BackgroundInsets>
						<AbsInset left="0" right="0" top="0" bottom="-100"/>
					</BackgroundInsets>
				</Backdrop>
				<Frames>
					<Slider inherits="NarciModelSliderTemplate" parentKey="AlphaSlider" valueStep="0.01" obeyStepOnDrag="false" minValue="0" maxValue="1" defaultValue="1" clampedToScreen="true">
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent" relativePoint="BOTTOM" x="6"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self.Icon:Hide();
								self.Label:SetText("Alpha")
								self.Label:Show();
							</OnLoad>
							<OnValueChanged function="Narci_ModelShadow_AlphaSlider_OnValueChanged"/>
						</Scripts>
					</Slider>
					<Slider inherits="NarciModelSliderTemplate" parentKey="SizeSlider" valueStep="0.01" obeyStepOnDrag="false" minValue="0.25" maxValue="1.25" defaultValue="1" >
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent.AlphaSlider" relativePoint="TOPRIGHT" x="0"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self.Icon:Hide();
								self.Label:SetText("Size")
								self.Label:Show();
							</OnLoad>
							<OnValueChanged function="Narci_ModelShadow_SizeSlider_OnValueChanged"/>
						</Scripts>
					</Slider>

				</Frames>
				<Scripts>

				</Scripts>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
			<OnHide>
				self:Hide();
				self:ClearAllPoints();
				self:SetPoint("BOTTOM", UIParent, "BOTTOM", 0 ,0);
				self:SetUserPlaced(false);
			</OnHide>
			<OnEnter>
				UIFrameFadeIn(self.Border, 0.25, self.Border:GetAlpha(), 1)
			</OnEnter>
			<OnLeave>
				if not self:IsMouseOver() then
					UIFrameFadeOut(self.Border, 0.25, self.Border:GetAlpha(), 0)
				end
			</OnLeave>
		</Scripts>	
	</Frame>

	<DressUpModel name="Narci_CharacterModelFrame_Template" frameStrata="MEDIUM" hidden="false" virtual="true" Alpha="1" frameLevel="5" toplevel="false">
		<Anchors>
			<Anchor point="TOPLEFT" relativeTo="UIParent" relativePoint="TOPLEFT" x="0" y="0"/>
			<Anchor point="BOTTOMRIGHT" relativeTo="UIParent" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
		</Anchors>
		<Layers>

		</Layers>
		<Frames>
			<Frame inherits="Narci_GroundShadowFrame_Template"/>
		</Frames>
		<Scripts>
			<OnLoad>
				NarciTargetModel_OnLoad(self, MODELFRAME_MAX_PLAYER_ZOOM, -0.8, nil, nil);
			</OnLoad>
			<OnUpdate function="Narci_Model_OnUpdate"/>
			<OnMouseUp>
				if ( button == "RightButton" and self.panning ) then
					self.panning = false;
				elseif ( self.mouseDown ) then
					self.onMouseUpFunc(self, button);
				end
			</OnMouseUp>
			<OnMouseDown>
				if ( button == "RightButton" and not self.mouseDown ) then
					NarciModel_StartPanning(self);
				else
					NarciModel_OnMouseDown(self, button);
				end
			</OnMouseDown>
			<OnMouseWheel function="NarciModel_OnWheel"/>
			<OnEnter>
				SetCursor("Interface/CURSOR/UI-Cursor-Move.blp");
			</OnEnter>
			<OnLeave>
				ResetCursor();
			</OnLeave>
			<OnHide function="Narci_OtherCharacterModelFrame_OnHide"/>
			<OnShow function="Narci_OtherCharacterModelFrame_OnShow"/>
			<OnModelLoaded>
				self:MakeCurrentCameraCustom();
			</OnModelLoaded>
		</Scripts>
	</DressUpModel>	

	<Frame name="Narci_CharacterModelContainer">
		<Layers>
			<Layer level="BACKGROUND" textureSubLevel="3">
				<Texture setAllPoints="true" hidden="true" parentKey="ChromaKey" Alpha="0" name="Narci_ChromaKey">
					<Color r="1" g="1" b="1" a="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeTo="UIParent" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeTo="UIParent" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<DressUpModel name="NarciModelFrame1" frameStrata="MEDIUM" hidden="true" virtual="false" Alpha="1" frameLevel="9" toplevel="false" id="1">
				<Anchors>
					<Anchor point="TOPLEFT" relativeTo="UIParent" relativePoint="TOPLEFT" x="0" y="0"/>
					<Anchor point="BOTTOMRIGHT" relativeTo="UIParent" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture setAllPoints="true" hidden="true">
							<Size x="700" y="1100" />
							<Color r="1" g="1" b="1" a="0.5"/>
							<Anchors>
								<Anchor point="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="BACKGROUND" textureSubLevel="2">
						<Texture setAllPoints="true" hidden="false" parentKey="Brightness" name="Narci_BackgroundBrightnessTexture" Alpha="0">
							<Color r="0" g="0" b="0" a="1"/>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<Texture parentKey="GuideLineCenter" setAllPoints="true" hidden="true">
							<Size x="1" y="1208"/>
							<Color r="1" g="1" b="1" a="0.8"/>
							<Anchors>
								<Anchor point="CENTER" relativeTo="VirtualLineCenter" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame name="NarciModel_RightGradient" frameStrata="LOW">
						<Layers>
							<Layer>
								<Texture setAllPoints="true" parentKey="RightGradient">
									<Color r="0" g="0" b="0" a="1"/>
									<Size x="700"/>
									<Anchors>
										<Anchor point="TOPRIGHT" relativeKey="$parent.$parent" relativePoint="TOPTIGHT"  x="0" y="0"/>
										<Anchor point="BOTTOMRIGHT" relativeKey="$parent.$parent" relativePoint="BOTTOMRIGHT"  x="0" y="0"/>
									</Anchors>
									<Gradient orientation="HORIZONTAL">
										<MinColor a="0" r="1" g="1" b="1"/>
										<MaxColor a="0.6" r="1" g="1" b="1"/>
									</Gradient>
								</Texture>
							</Layer>
						</Layers>
					</Frame>
					<Frame name="Narci_GroundShadowFrame" inherits="Narci_GroundShadowFrame_Template"/>
					<Frame name="Narci_PlayerModelGuideFrame" parentKey="GuideFrame" hidden="true" frameStrata="LOW" Alpha="0">
						<Size x="10" y="10"/>
						<Anchors>
							<Anchor point="LEFT" relativeTo="VirtualLineLeft" relativePoint="LEFT" x="0" y="0"/>
							<Anchor point="RIGHT" relativeTo="VirtualLineRight" relativePoint="RIGHT" x="0" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">

								<Texture parentKey="GuideLine" setAllPoints="true" hidden="false">
									<Size x="2" y="1200" />
									<Color r="1" g="1" b="1" a="0.5"/>
									<Anchors>
										<Anchor point="LEFT" relativeTo="VirtualLineRight" relativePoint="RIGHT" x="80" y="0"/>
									</Anchors>
								</Texture>
								<Texture name="ModelVignetteRightSmall" parentKey="VignetteRightSmall" file="Interface\AddOns\Narcissus\Art\Vignetting\Vignetting-Left" Alpha="0.8" setAllPoints="false">
									<Size x="2000" y="800"/>
									<TexCoords left="1" right="0" top="0" bottom="1"/>
									<Anchors>
										<Anchor point="RIGHT" relativeKey="$parent.GuideLine" relativePoint="LEFT"  x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnShow>
								local width = Narci_VignetteLeft:GetWidth();
								local height = Narci_VignetteLeft:GetHeight();
								local alpha = Narci_VignetteLeft:GetAlpha();
								self.VignetteRightSmall:SetSize(width, height);
								self.VignetteRightSmall:SetAlpha(alpha)
							</OnShow>
							<OnHide>
								self:Hide();
							</OnHide>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad>
						NarciMainModel_OnLoad(self, MODELFRAME_MAX_PLAYER_ZOOM, -0.8, nil, nil);
					</OnLoad>
					<OnUpdate function="Narci_Model_OnUpdate"/>
					<OnMouseUp>
						if ( button == "RightButton" and self.panning ) then
							self.panning = false;
						elseif ( self.mouseDown ) then
							self.onMouseUpFunc(self, button);
						end
						self.GuideLineCenter:Hide();
					</OnMouseUp>
					<OnMouseDown>
						if ( button == "RightButton" and not self.mouseDown ) then
							NarciModel_StartPanning(self);
						else
							NarciModel_OnMouseDown(self, button);
						end
						if self.GuideFrame:IsVisible() then
							self.GuideLineCenter:Show();
						end
					</OnMouseDown>
					<OnMouseWheel function="NarciModel_OnWheel"/>
					<OnEnter>
						SetCursor("Interface/CURSOR/UI-Cursor-Move.blp");
					</OnEnter>
					<OnLeave>
						ResetCursor();
					</OnLeave>
					<OnHide function="Narci_CharcaterModelFrame_OnHide"/>
					<OnModelLoaded>
						self:MakeCurrentCameraCustom();
					</OnModelLoaded>
				</Scripts>
			</DressUpModel>
		</Frames>
	</Frame>

	<Button name="Narci_Model_PlayAnimationTemplate" inherits="Narci_PlaceHolderButtonRound" virtual="true" hidden="true">
		<Animations>
			<AnimationGroup parentKey="animIn">
				<Alpha fromAlpha="0" toAlpha="1" duration="0.38" order="1"/>
			</AnimationGroup>
			<AnimationGroup parentKey="animOut">
				<Alpha fromAlpha="1" toAlpha="0" duration="0.12" order="1"/>
				<Scripts>
					<OnFinished>
						self:GetParent().Highlight:Hide();
						self:GetParent().IsOn = false;
						self:GetParent().animIn:Play();
					</OnFinished>
				</Scripts>
			</AnimationGroup>
		</Animations>
		<Scripts>
			<OnLoad>
				self.animID = self:GetID() or 1;
				if not self:GetParent().buttons then
					self:GetParent().buttons = {};
				end
				tinsert(self:GetParent().buttons, self);
			</OnLoad>
			<OnClick>
				NarciModelFrame1:SetAnimation(self:GetID(), 1)
			</OnClick>
		</Scripts>
	</Button>

	<Button name="Narci_Model_PlayAnimation1x4Template" inherits="Narci_Model_PlayAnimationTemplate" virtual="true" hidden="false">
		<Scripts>
			<OnClick function="Narci_AnimationPresetButton_OnClick"/>
		</Scripts>
	</Button>

	<Button name="Narci_Model_AnimationControlButtonTemplate" inherits="Narci_Model_PlayAnimationTemplate" virtual="true" hidden="false">
		<Scripts>
			<OnMouseDown>
				self.Icon:SetSize(18, 18);
			</OnMouseDown>
			<OnMouseUp>
				self.Icon:SetSize(20, 20);
			</OnMouseUp>
		</Scripts>
	</Button>

	<Button name="Narci_Model_PlayAnimation1x5Template" virtual="true">
		<Size x="134" y="24"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" hidden="false" parentKey="Background">
					<TexCoords left="0.25" right="0.7578125" top="0.31640625" bottom="0.421875"/>
					<Size x="144" y="30"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer lvel="OVERLAY">
				<FontString justifyH="LEFT" justifyV="MIDDLE" maxLines="1" inherits="NarciIndicatorLetter" parentKey="Label">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="8" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<HighlightTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" hidden="true">
			<TexCoords left="0.25" right="0.7578125" top="0.421875" bottom="0.52734375"/>
			<Anchors>
				<Anchor point="TOPLEFT" relativeKey="$parent.Background" relativePoint="TOPLEFT" x="0" y="0"/>
				<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Background" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
			</Anchors>
		</HighlightTexture>
	</Button>

	<Button name="Narci_AlphaLayerButton" virtual="true" parentKey="AlphaButton">
		<Size x="38" y="38"/>
		<HitRectInsets>
			<AbsInset left="6" right="10" top="-1" bottom="-1"/>
		</HitRectInsets>
		<HighlightTexture parentKey="Highlight" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LayerButton" setAllPoints="true">
			<TexCoords left="0.1484375" right="0.296875" top="0.703125" bottom="1"/>
		</HighlightTexture>
		<NormalTexture parentKey="Normal" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LayerButton" setAllPoints="true">
			<TexCoords left="0" right="0.1484375" top="0.703125" bottom="1"/>
		</NormalTexture>
		<Scripts>
			<OnLoad function="Narci_AlphaLayerButton_OnLoad"/>
			<OnEnter>
				--print(self.IsOn)
			</OnEnter>
			<OnLeave>
				if (self.IsOn) then	return;	end;
			</OnLeave>
			<OnMouseDown>
				self:SetSize(34, 34);
			</OnMouseDown>
			<OnMouseUp>
				self:SetSize(38, 38);
			</OnMouseUp>
			<OnHide>
				if self.IsOn then
					self:Click();
				end
			</OnHide>
		</Scripts>
	</Button>

    <Button name="Narci_RoundedRectangleTemplate_White" clampedToScreen="true" hidden="false" virtual="true">
        <Size x="198" y="33"/>
		<HitRectInsets>
			<AbsInset left="0" right="0" top="4" bottom="4"/>
		</HitRectInsets>
		<HighlightTexture parentKey="Highlight" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LayerButton" setAllPoints="true" Alpha="1">
			<TexCoords left="0" right="0.75390625" top="0.2578125" bottom="0.515625"/>
		</HighlightTexture>
		<Layers>
			<Layer level="BACKOROUND" textureSubLevel="2">
				<Texture parentKey="Background" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LayerButton" setAllPoints="true">
					<TexCoords left="0" right="0.75390625" top="0" bottom="0.2578125"/>
				</Texture>
			</Layer>
			<Layer level="ARTWORK">

			</Layer>
			<Layer level="OVERLAY">
				<Texture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LayerButton" Alpha="0.15" alphaMode="ADD">
					<Size x="52" y="24"/>
					<TexCoords left="0.296875" right="0.5" top="0.703125" bottom="0.890625"/>
					<Anchors>
						<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-8" y="0"/>
					</Anchors>
				</Texture>
				<FontString justifyH="LEFT" justifyV="MIDDLE" maxLines="1" inherits="NarciHighlightFont" parentKey="Label">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="32" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<Button inherits="Narci_AlphaLayerButton">
				<Anchors>
					<Anchor point="CENTER" relativePoint="LEFT" x="19"/>
				</Anchors>
			</Button>
		</Frames>
			<Scripts>
				<OnLoad function="Narci_LayerButton_OnLoad"/>
				<OnEnter>
					UIFrameFadeIn(self.Highlight, 0.2, self.Highlight:GetAlpha(), 1);
				</OnEnter>
				<OnLeave>
					if (self.IsOn) or self:IsMouseOver(-4, 4, 0, 0) then	return;	end;
				</OnLeave>
				<OnShow>
					self.IsOn = true;
					self:LockHighlight();
					self.Label:SetTextColor(1, 1, 1);					
				</OnShow>
			</Scripts>
	</Button>

	<Frame name="Narci_AnimationOptionFrameTemplate_1x4" virtual="true">
		<Size x="96" y="24"/>
		<Anchors>
			<Anchor point="TOPLEFT" relativeKey="$parent.Color1" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false">
					<TexCoords left="0" right="0.373046875" top="0.421875" bottom="0.52734375"/>
					<Size x="105" y="30"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" text="NARCI_SHEATH_WEAPON" maxLines="1" parentKey="Label">
					<Size x="90" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="8" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
	</Frame>

	<Button name="Narci_OtherTabButton_Template" virtual="true">
		<Size x="98" y="20"/>					
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Background" setAllPoints="true">
					<TexCoords left="0" right="0.373046875" top="0.6328125" bottom="0.703125"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="1">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" parentKey="Highlight" hidden="true" setAllPoints="true">
					<Size x="98" y="30"/>				
					<Anchors>
						<Anchor point="CENTER" relativePoint="CENTER"/>
					</Anchors>										
					<TexCoords left="0" right="0.376953125" top="0.31640625" bottom="0.421875"/>
				</Texture>
				<Texture setAllPoints="true">
					<Color r="0" g="0" b="0" a="0.9"/>
					<Size x="87" y="0.711"/>				
					<Anchors>
						<Anchor point="CENTER" relativePoint="BOTTOM" x="-1.5"/>
					</Anchors>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="2">
				<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" text="Label" maxLines="1" parentKey="Label">
					<Size x="90" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="8" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self.IsOn = false;
			</OnLoad>
			<OnClick function="Narci_AnimationOption_OtherTabButton_OnClick"/>
			<OnEnter>
				self.Highlight:Show();
			</OnEnter>
			<OnLeave>
				self.Highlight:Hide();
			</OnLeave>							
		</Scripts>
	</Button>

	<Button name="Narci_OtherTabButtonBottom_Template" virtual="true">
		<Size x="98" y="20"/>					
		<Layers>
			<Layer level="ARTWORK">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Background">
					<Size x="98" y="30"/>
					<TexCoords left="0" right="0.373046875" top="0.703125" bottom="0.806640625"/>
					<Anchors>
						<Anchor point="TOP" relativePoint="TOP"/>
					</Anchors>	
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="1">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" parentKey="Highlight" hidden="true" setAllPoints="true">
					<Size x="98" y="30"/>				
					<Anchors>
						<Anchor point="CENTER" relativePoint="CENTER"/>
					</Anchors>										
					<TexCoords left="0" right="0.376953125" top="0.31640625" bottom="0.421875"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY" textureSubLevel="2">
				<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" text="Ranged Weapon" maxLines="1" parentKey="Label">
					<Size x="90" y="0"/>
					<Color r="1" g="1" b="1" a="1"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="8" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad>
				self.IsOn = false;
			</OnLoad>
			<OnClick function="Narci_AnimationOption_OtherTabButton_OnClick"/>
			<OnEnter>
				self.Highlight:Show();
			</OnEnter>
			<OnLeave>
				self.Highlight:Hide();
			</OnLeave>							
		</Scripts>
	</Button>

	<Frame name="Narci_ViewTemplate" virtual="true">
		<Size>
			<AbsDimension x="96" y="96"/>
		</Size>
		<Layers>
			<Layer level="OVERLAY" textureSubLevel="2">
				<Texture parentKey="AmbientColor" setAllPoints="true">
					<Color r="1" g="1" b="1" a="0.5"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="Bling" smoothing="IN_OUT">
							<Alpha fromAlpha="1" toAlpha="0" duration="0.3" order="1"/>
							<Alpha fromAlpha="0.2" toAlpha="1" duration="0.4" order="2"/>
						</AnimationGroup>
					</Animations>
				</Texture>
				<MaskTexture parentKey="AmbientMask" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\AmbientLight-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
					<Size x="126" y="126"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
					<MaskedTextures>
						<MaskedTexture childKey="AmbientColor"/>
					</MaskedTextures>
				</MaskTexture>				
				<Texture parentKey="LightColor" setAllPoints="true">
					<Color r="0.8" g="0.8" b="0.8" a="0.6"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
					<Animations>
						<AnimationGroup parentKey="Bling" smoothing="IN_OUT">
							<Alpha fromAlpha="1" toAlpha="0" duration="0.3" order="1"/>
							<Alpha fromAlpha="0.2" toAlpha="1" duration="0.4" order="2"/>
						</AnimationGroup>
					</Animations>
				</Texture>
				<MaskTexture parentKey="BeamMask" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Beam-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
					<Size x="96" y="96"/>
					<Anchors>
						<Anchor point="CENTER"/>
					</Anchors>
					<MaskedTextures>
						<MaskedTexture childKey="LightColor"/>
					</MaskedTextures>
				</MaskTexture>
			</Layer>
		</Layers>
		<Frames>
			<Button parentKey="Thumb" registerForClicks="LeftButtonUp, RightButtonUp" registerForDrag="LeftButton">
				<Size>
					<AbsDimension x="24" y="24"/>
				</Size>
				<Anchors>
					<Anchor point="CENTER" relativePoint="CENTER"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY" textureSubLevel="6">
						<Texture parentKey="Tex" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LightButton" hidden="false">
							<TexCoords left="0" right="0.5" top="0" bottom="1"/>
							<Size x="24" y="24"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<HighlightTexture parentKey="Highlight" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LightButton">
					<TexCoords left="0.5" right="1" top="0" bottom="1"/>
					<Size x="24" y="24"/>
					<Anchors>
						<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
					</Anchors>
				</HighlightTexture>
				<Scripts>
					<OnLoad>
						self:RegisterForDrag("LeftButton")
					</OnLoad>
					<OnEnter>

					</OnEnter>
					<OnDragStart>
						self:LockHighlight()
						self:GetParent().UpdateFrame:Show()
					</OnDragStart>
					<OnDragStop>
						self:UnlockHighlight()
						self:GetParent().UpdateFrame:Hide()
					</OnDragStop>
				</Scripts>
			</Button>
			<Frame parentKey="UpdateFrame" hidden="true">
				<Scripts>
					<OnLoad>
						self.radian = -3*math.pi/4
						LightButton_UpdateFrame_OnLoad(self);
					</OnLoad>
					<OnUpdate function="LightButton_UpdateFrame_OnUpdate"/>
				</Scripts>
			</Frame>
		</Frames>
	</Frame>

	<Button name="Narci_LinkSettingTempalte" virtual="true">
		<Size x="137" y="30"/>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ActorPanel">
					<TexCoords left="0" right="0.505859375" top="0.21875" bottom="0.328125"/>
				</Texture>
			</Layer>
			<Layer level="OVERLAY">
				<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ActorPanel" hidden="true" parentKey="Highlight">
					<TexCoords left="0" right="0.505859375" top="0.328125" bottom="0.4375"/>
				</Texture>
				<FontString justifyH="LEFT" justifyV="MIDDLE" maxLines="1" inherits="NarciIndicatorLetter" parentKey="Label">
					<Size x="0" y="0"/>
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="11" y="0"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnEnter>
				self.Highlight:Show()
			</OnEnter>
			<OnLeave>
				if not self.IsOn then
					self.Highlight:Hide()
				end
			</OnLeave>
		</Scripts>
	</Button>

	<Texture name="Narci_ActorPortrait_Template" virtual="true" hidden="true">
		<Color r="0" g="0" b="0"/>
		<Anchors>
			<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="0" y="0"/>
			<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
		</Anchors>
	</Texture>

	<Frame name="FullScreenAlphaChannel" hidden="true" setAllPoints="true" frameStrata="LOW" Alpha="0">
		<Anchors>
			<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
			<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
		</Anchors>
		<Layers>
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true">
					<Color r="0" g="0" b="0" a="1"/>
				</Texture>
			</Layer>
		</Layers>
	</Frame>

	<Button name="Narci_Tooltip_White" frameStrata="TOOLTIP">
		<Size x="160" y="120"/>
		<Layers>
			<Layer level="ARTWORK" textureSubLevel="3">
				<Texture setAllPoints="true" parentKey="TopBackground">
					<Color r="1" g="1.0" b="1.0" a="1"/>
					<Gradient orientation="VERTICAL">
						<MinColor a="1" r="0.12" g="0.12" b="0.12"/>
						<MaxColor a="1" r="0.25" g="0.25" b="0.25"/>
					</Gradient>
					<Anchors>
						<Anchor point="TOPLEFT" relativePoint="TOPLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="RIGHT" y="30"/>
					</Anchors>
				</Texture>
				<Texture setAllPoints="true">
					<Color r="0.12" g="0.12" b="0.12" a="1"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.TopBackground" relativePoint="BOTTOMLEFT"/>
						<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
	</Button>

	<Frame name="Narci_CharacterModelSettings" frameLevel="2" frameStrata="DIALOG" hidden="true" clampedToScreen="true"  Alpha="0" movable="true">
		<Size>
			<AbsDimension x="415" y="278"/>
		</Size>
		<Anchors>
			<Anchor point="BOTTOM" relativeTo="VirtualLineRightCenter" relativePoint="BOTTOM" x="-10" y="40"/> <!--x="-150" y="-20"-->
		</Anchors>
		<Layers>					
			<Layer level="BACKGROUND">
				<Texture setAllPoints="true" hidden="true">
					<Color r="0" g="0" b="0" a="0.8"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame name="LightInfoSharedFrame" hidden="true">
				<Scripts>
					<OnLoad>
						self.AngleZ = math.pi/4
						self.AngleXY = -3*math.pi/4
					</OnLoad>
				</Scripts>
			</Frame>

			<Frame parentKey="AutoHideContainer" enableMouse="false" enableMouseClicks="false">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="-60" y="60"/>
					<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="60" y="-80"/>
				</Anchors>
				<Layers>					
					<!--Layer level="ARTWORK" textureSubLevel="2">
						<Texture setAllPoints="true" hidden="false">
							<Color r="1" g="1" b="1" a="0.5"/>
						</Texture>
					</Layer-->
				</Layers>
				<Scripts>
					<OnLoad>
						self:SetFrameLevel(self:GetParent():GetFrameLevel() - 1)
					</OnLoad>
					<OnEnter function="Narci_CharacterModelSettings_OnEnter"/>
					<OnLeave>
						if self:IsMouseOver() then return end
						UIFrameFadeOut(self:GetParent(), 0.2, self:GetParent():GetAlpha(), 0)
					</OnLeave>
				</Scripts>
			</Frame>

			<Frame name="Narci_ActorPanel" parentKey="ActorPanel">
				<Size x="222" y="60"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="-3"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ActorPanel" parentKey="Background">
							<TexCoords left="0" right="0.8125" top="0.4375" bottom="0.65625"/>	<!--TexCoords left="0" right="0.8125" top="0" bottom="0.21875"/-->
							<Size x="222" y="60"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativeKey="$parent" relativePoint="BOTTOMLEFT" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY">
						<FontString justifyH="LEFT" justifyV="MIDDLE" maxLines="1" inherits="NarciIndicatorLetter" parentKey="ActorIndex" text="1">
							<Size x="0" y="32"/>
							<Color r="0.6" g="0.6" b="0.6" a="1"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="61" y="0"/>
							</Anchors>
						</FontString>
						<FontString justifyH="LEFT" justifyV="MIDDLE" maxLines="1" inherits="NarciIndicatorLetter" parentKey="ActorName" text="Peterodox (You)">
							<Size x="0" y="32"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent.ActorIndex" relativePoint="RIGHT" x="4" y="0"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						_, _, self.raceID = UnitRace("player");
						self.gender = UnitSex("player");
					</OnLoad>
				</Scripts>
				<Frames>
					<Button name="NarciModelControl_ActorButton" parentKey="ActorButton">
						<Size x="60" y="60"/>
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativeKey="$parent" relativePoint="BOTTOMLEFT" x="0" y="0"/>
						</Anchors>
						<HighlightTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ActorPanel" parentKey="Highlight">
							<TexCoords left="0.828125" right="1" top="0" bottom="0.21875"/>
							<Size x="48" y="60"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</HighlightTexture>
						<Scripts>
							<OnLoad>
								self.IsOn = false;
							</OnLoad>
							<OnMouseDown>
								self:GetParent().PortraitFrame:SetSize(56, 56);
							</OnMouseDown>
							<OnMouseUp>
								self:GetParent().PortraitFrame:SetSize(60, 60);
							</OnMouseUp>
							<OnEnter>

							</OnEnter>
							<OnLeave>

							</OnLeave>
							<OnClick function="Narci_ActorButton_OnClick"/>
							<OnHide>
								self:UnlockHighlight();
							</OnHide>
						</Scripts>				
					</Button>

					<Frame parentKey="PortraitFrame">
						<Size x="60" y="60"/>
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent.ActorButton" relativePoint="CENTER" x="0" y="0"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<Texture parentKey="Portrait1" inherits="Narci_ActorPortrait_Template" hidden="false"/>
								<Texture parentKey="Portrait2" inherits="Narci_ActorPortrait_Template"/>
								<Texture parentKey="Portrait3" inherits="Narci_ActorPortrait_Template"/>
								<Texture parentKey="Portrait4" inherits="Narci_ActorPortrait_Template"/>
								<Texture parentKey="Portrait5" inherits="Narci_ActorPortrait_Template"/>
								<MaskTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Portrait-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
									<Size x="68" y="68"/>
									<Anchors>
										<Anchor point="CENTER"/>
									</Anchors>
									<MaskedTextures>
										<MaskedTexture childKey="Portrait1"/>
										<MaskedTexture childKey="Portrait2"/>
										<MaskedTexture childKey="Portrait3"/>
										<MaskedTexture childKey="Portrait4"/>
										<MaskedTexture childKey="Portrait5"/>
									</MaskedTextures>
								</MaskTexture>
							</Layer>
						</Layers>
						<Scripts>
							<OnShow>
								SetPortraitTexture(self.Portrait1, "player");
							</OnShow>
						</Scripts>
					</Frame>

					<Frame name="Narci_RaceOptionFrame" hidden="true" alpha="0" parentKey="RaceOption">
						<Size x="120" y="100"/>
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativeKey="$parent.ActorButton" relativePoint="TOPLEFT" x="0" y="-2"/>
						</Anchors>
						<Backdrop edgeFile="Interface\AddOns\Narcissus\Art\Tooltip\Tooltip-RoundedGrey-Border" bgFile="Interface\AddOns\Narcissus\Art\Tooltip\Tooltip-RoundedGrey-Background" tile="true">
							<EdgeSize>
								<AbsValue val="32"/>
							</EdgeSize>
							<TileSize>
								<AbsValue val="32"/>
							</TileSize>
							<BackgroundInsets>
								<AbsInset left="32" right="32" top="32" bottom="32"/>
							</BackgroundInsets>
						</Backdrop>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture parentKey="Inset">
									<Anchors>
										<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="TOPLEFT" x="5" y="-5"/>
										<Anchor point="BOTTOMRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="-5" y="5"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnEnter/>
							<OnHide>
								self:Hide();
								self:SetAlpha(0);
							</OnHide>
						</Scripts>
					</Frame>

					<Button name="Narci_GenderButton" parentKey="GenderButton" frameLevel="10">
						<Size x="20" y="20"/>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent.ActorButton" relativePoint="TOPRIGHT" x="-4" y="-6"/>
						</Anchors>
						<NormalTexture parentKey="Icon" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\GenderIcon">
							<TexCoords left="0.5" right="1" top="0" bottom="0.5"/>
							<Size x="20" y="20"/>
						</NormalTexture>
						<PushedTexture parentKey="Icon2" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\GenderIcon">
							<Size x="18" y="18"/>
							<TexCoords left="0.5" right="1" top="0" bottom="0.5"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</PushedTexture>
						<HighlightTexture parentKey="Highlight" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\GenderIcon">
							<TexCoords left="0.5" right="1" top="0.5" bottom="1"/>
							<Size x="20" y="20"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</HighlightTexture>
						<Scripts>
							<OnLoad function="Narci_GenderButton_OnLoad"/>
							<OnClick function="Narci_GenderButton_OnClick"/>
							<OnMouseDown>
								self.Highlight:SetSize(18, 18);
							</OnMouseDown>
							<OnMouseUp>
								self.Highlight:SetSize(20, 20);
							</OnMouseUp>
						</Scripts>
					</Button>

					<Button name="Narci_ExpandButton" parentKey="ExpandButton" inherits="Narci_LinkSettingTempalte">
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativeKey="$parent.ActorButton" relativePoint="BOTTOMRIGHT" x="0" y="0.5"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self.Label:SetText(NARCI_GROUP_PHOTO);
								self.Label:SetTextColor(0.25, 0.78, 0.92);
							</OnLoad>
							<OnClick function="Narci_ActorPanelExpandButton_OnClick"/>
						</Scripts>
					</Button>

					<Frame parentKey="ExtraPanel" hidden="true">
						<Frames>
							<Frame parentKey="ReferenceFrame" hidden="false">
								<Size x="2" y="2"/>
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.$parent.ExpandButton" relativePoint="LEFT" x="39" y="0"/>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" text="NARCI_GROUP_PHOTO_INDEX" maxLines="1" parentKey="Label">
											<Size x="90" y="0"/>
											<Anchors>
												<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="-28" y="0"/>
											</Anchors>
										</FontString>
									</Layer>
								</Layers>
							</Frame>
							<Frame parentKey="UpdateFrame" hidden="true">
								<Scripts>
									<OnLoad>
										self.ref = self:GetParent().ReferenceFrame;	
										self.orderTable = {};								
									</OnLoad>
									<OnShow>
										self.x0 = self:GetParent().ReferenceFrame:GetLeft();
										self.order = nil;
										self.xmin = self.x0 + 0.1 + 12;
										self.xmax = self.x0 + 4 * 24 + 12; -- Index Button Width
									</OnShow>
									<OnHide function="Narci_ModelIndexButton_RepositionFrame_OnHide"/>
									<OnUpdate function="Narci_ModelIndexButton_RepositionFrame_OnUpdate"/>
								</Scripts>
							</Frame>
							
							<Button parentKey="Model1" inherits="Narci_ModelIndex_Template" id="1">
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.ReferenceFrame" relativePoint="LEFT" x="0" y="0"/>
								</Anchors>
							</Button>
							<Button parentKey="Model2" inherits="Narci_ModelIndex_Template" id="2">
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.Model1" relativePoint="RIGHT"/>
								</Anchors>
							</Button>
							<Button parentKey="Model3" inherits="Narci_ModelIndex_Template" id="3">
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.Model2" relativePoint="RIGHT"/>
								</Anchors>
							</Button>
							<Button parentKey="Model4" inherits="Narci_ModelIndex_Template" id="4">
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.Model3" relativePoint="RIGHT"/>
								</Anchors>
							</Button>
							<Button parentKey="Model5" inherits="Narci_ModelIndex_Template" id="5">
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.Model4" relativePoint="RIGHT"/>
								</Anchors>
							</Button>

							<Button name="NarciModelControl_ColorPaneSwitch" parentKey="DeleteModel" inherits="Narci_Model_AnimationControlButtonTemplate" hidden="false" registerForClicks="LeftButtonUp">
								<Anchors>
									<Anchor point="LEFT" relativeKey="$parent.ReferenceFrame" relativePoint="LEFT" x="96" y="29"/>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY">
										<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ModelIndexIcons" Alpha="1" hidden="false" parentKey="Icon">
											<TexCoords left="0.25" right="0.5" top="0" bottom="1"/>
											<Size x="20" y="20"/>
											<Anchors>
												<Anchor point="CENTER" x="0"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad/>
									<OnClick function="Narci_DeleteModelButton_OnClick"/>
								</Scripts>
							</Button>

							<Button parentKey="LinkLight" inherits="Narci_LinkSettingTempalte" id="2">
								<Anchors>
									<Anchor point="BOTTOMLEFT" relativeKey="$parent.$parent" relativePoint="BOTTOMRIGHT" x="0.5" y="0"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.IsOn = true;
										self.Label:SetText(NARCI_LINK_LIGHT_SETTINGS);
										self.Highlight:Show();
									</OnLoad>
									<OnClick function="Narci_LinkLightButton_OnClick"/>
								</Scripts>
							</Button>

							<Button parentKey="LinkScale" inherits="Narci_LinkSettingTempalte" id="1">
								<Anchors>
									<Anchor point="TOPLEFT" relativeKey="$parent.$parent" relativePoint="TOPRIGHT" x="0.5" y="-0.5"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.IsOn = false;
										self.Label:SetTextColor(0.6, 0.6, 0.6);
										self.Label:SetText(NARCI_LINK_MODEL_SCALE);
									</OnLoad>
									<OnClick function="Narci_LinkScaleButton_OnClick"/>
								</Scripts>
							</Button>

							<Button parentKey="SyncButton" Alpha="0.5">
								<Size x="60" y="60"/>
								<Anchors>
									<Anchor point="BOTTOMLEFT" relativeKey="$parent.LinkLight" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ActorPanel">
											<TexCoords left="0.505859375" right="0.720703125" top="0.21875" bottom="0.43359375"/>
										</Texture>
									</Layer>
									<Layer level="OVERLAY">
										<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\ActorPanel" hidden="true" parentKey="Highlight">
											<TexCoords left="0.720703125" right="0.935546875" top="0.21875" bottom="0.43359375"/>
										</Texture>
									</Layer>
								</Layers>
								<Scripts>
									<OnLoad>
										self.IsOn = false;
										self:Disable();
									</OnLoad>
									<OnEnter>
										self.Highlight:Show()
									</OnEnter>
									<OnLeave>
										if not self.IsOn then
											self.Highlight:Hide()
										end
									</OnLeave>
								</Scripts>
							</Button>
						</Frames>
						<Animations>
							<AnimationGroup parentKey="animIn">
								<Translation parentKey="Translation" offsetX="-12" duration="0" order="1"/>
								<Translation parentKey="Translation" offsetX="12" duration="0.25" order="2"/>
							</AnimationGroup>
						</Animations>
						<Scripts>
							<OnShow>
								self.animIn:Play();
								self:SetScript("OnShow", function()
								end)
							</OnShow>
						</Scripts>
					</Frame>
				</Frames>
			</Frame>

			<Frame parentKey="LeftView" inherits="Narci_ViewTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativePoint="TOPLEFT" y="-70"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="0.95" hidden="false">
							<TexCoords left="0.375" right="0.75" top="0" bottom="0.75"/>
							<Size x="96" y="96"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture parentKey="FaceRight" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="1" hidden="false">
							<TexCoords left="0.8359375" right="1" top="0.171875" bottom="0.75"/>
							<Size x="42" y="74"/>
							<Anchors>
								<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="0"/>
							</Anchors>
						</Texture>
						<Texture parentKey="FaceLeft" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="0" hidden="false">
							<TexCoords left="1" right="0.8359375" top="0.171875" bottom="0.75"/>
							<Size x="42" y="74"/>
							<Anchors>
								<Anchor point="BOTTOM" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="UpdateFrame" hidden="true">
						<Scripts>
							<OnLoad>
								self.limit = true
								self.radian = math.pi/4
								LightButton_UpdateFrame_OnLoad(self);
							</OnLoad>
							<OnUpdate function="LightButton_UpdateFrame_OnUpdate"/>
						</Scripts>
					</Frame>
				</Frames>
				<Scripts>

				</Scripts>
			</Frame>

			<Frame parentKey="TopView" inherits="Narci_ViewTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.LeftView" relativePoint="TOPRIGHT"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="0.95" hidden="false">
							<TexCoords left="0" right="0.375" top="0" bottom="0.75"/>
							<Size x="96" y="96"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="ARTWORK">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="1" hidden="false">
							<TexCoords left="0" right="0.375" top="0.75" bottom="0.953125"/>
							<Size x="96" y="26"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="-2"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>

			<Button parentKey="LightSwitch" hidden="false" registerForClicks="LeftButtonUp, RightButtonUp">
				<Size>
					<AbsDimension x="24" y="24"/>
				</Size>
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeKey="$parent.LeftView" relativePoint="BOTTOMLEFT" x="0"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\UI" Alpha="0.5" hidden="true" parentKey="Highlight">
							<TexCoords left="0.953125" right="1" top="0" bottom="0.09375"/>
							<Size x="12" y="12"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0.25" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="2">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\LightSwitchIcons" Alpha="1" hidden="false" parentKey="Icon">
							<TexCoords left="0.25" right="0.5" top="0" bottom="1"/>
							<Size x="20" y="20"/>
							<Anchors>
								<Anchor point="CENTER" x="0.25"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnLoad>
						--self.Border:Hide();
					</OnLoad>
					<OnEnter>
						self.Highlight:Show();
					</OnEnter>
					<OnLeave>
						self.Highlight:Hide();
					</OnLeave>
					<OnClick function="NarciModelControl_LightSwitch_OnClick"/>
					<OnMouseDown>
						self.Icon:SetSize(18, 18);
					</OnMouseDown>
					<OnMouseUp>
						self.Icon:SetSize(20, 20);
					</OnMouseUp>
				</Scripts>
			</Button>

			<Frame parentKey="ColorPresets">
				<Frames>
					<Button parentKey="Color1" inherits="Narci_ColorButton_Template" id="1">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.$parent.LeftView" relativePoint="BOTTOMLEFT" x="0"/>
						</Anchors>
					</Button>
					<Button parentKey="Color2" inherits="Narci_ColorButton_Template" id="2">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Color1" relativePoint="RIGHT" x="0"/>
						</Anchors>
					</Button>
					<Button parentKey="Color3" inherits="Narci_ColorButton_Template" id="3">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Color2" relativePoint="RIGHT" x="0"/>
						</Anchors>
					</Button>
					<Button parentKey="Color4" inherits="Narci_ColorButton_Template" id="4">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Color3" relativePoint="RIGHT" x="0"/>
						</Anchors>
					</Button>
					<Button parentKey="Color5" inherits="Narci_ColorButton_Template" id="5">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Color4" relativePoint="RIGHT" x="0"/>
						</Anchors>
					</Button>
					<Button parentKey="Color6" inherits="Narci_ColorButton_Template" id="7">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Color5" relativePoint="RIGHT" x="0"/>
						</Anchors>
					</Button>
					<Button parentKey="Color7" inherits="Narci_ColorButton_Template" id="8">
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent.Color6" relativePoint="RIGHT" x="0"/>
						</Anchors>
					</Button>
				</Frames>
			</Frame>

			<Button name="NarciModelControl_ColorPaneSwitch" parentKey="ColorSwitch" inherits="Narci_Model_AnimationControlButtonTemplate" hidden="false" registerForClicks="LeftButtonUp, RightButtonUp">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.ColorPresets.Color7" relativePoint="RIGHT" x="0"/>
				</Anchors>
				<Layers>
					<Layer level="OVERLAY">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Icon">
							<TexCoords left="0.1875" right="0.25" top="0.9375" bottom="1"/>
							<Size x="20" y="20"/>
							<Anchors>
								<Anchor point="CENTER" x="0.25"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnClick function="NarciModelControl_ColorPaneSwitch_OnClick"/>
				</Scripts>
			</Button>

			<Frame parentKey="ColorSliders"  hidden="true">
				<Frames>
					<Slider parentKey="HueSlider" orientation="HORIZONTAL" enableMouse="true" valueStep="1" obeyStepOnDrag="true" minValue="0" maxValue="360">
						<Size x="156" y="12"/>
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent.$parent.ColorSwitch" relativePoint="TOPLEFT" x="-6"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<Texture setAllPoints="true" parentKey="R2Y">
									<Size x="26"  y="6"/>
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="1" g="0" b="0"/>
										<MaxColor r="1" g="1" b="0"/>
									</Gradient>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPLEFT" relativeKey="$parent" y="-6"/>
									</Anchors>
								</Texture>

								<Texture setAllPoints="true" parentKey="Y2G">
									<Size x="26"  y="6"/>
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="1" g="1" b="0"/>
										<MaxColor r="0" g="1" b="0"/>
									</Gradient>
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT" relativeKey="$parent.R2Y"/>
									</Anchors>
								</Texture>

								<Texture setAllPoints="true" parentKey="G2C">
									<Size x="26"  y="6"/>
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="0" g="1" b="0"/>
										<MaxColor r="0" g="1" b="1"/>
									</Gradient>
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT" relativeKey="$parent.Y2G"/>
									</Anchors>
								</Texture>

								<Texture setAllPoints="true" parentKey="C2B">
									<Size x="26"  y="6"/>
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="0" g="1" b="1"/>
										<MaxColor r="0" g="0" b="1"/>
									</Gradient>
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT" relativeKey="$parent.G2C"/>
									</Anchors>
								</Texture>


								<Texture setAllPoints="true" parentKey="B2P">
									<Size x="26"  y="6"/>
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="0" g="0" b="1"/>
										<MaxColor r="1" g="0" b="1"/>
									</Gradient>
									<Anchors>
										<Anchor point="LEFT" relativePoint="RIGHT" relativeKey="$parent.C2B"/>
									</Anchors>
								</Texture>

								<Texture setAllPoints="true" parentKey="P2R">
									<Size x="26"  y="6"/>
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="1" g="0" b="1"/>
										<MaxColor r="1" g="0" b="0"/>
									</Gradient>
									<Anchors>
										<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" relativeKey="$parent" y="-6"/>
									</Anchors>
								</Texture>

								<MaskTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\GradientBar-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
									<Size x="194" y="24"/>
									<Anchors>
										<Anchor point="TOP" relativePoint="TOP"/>
									</Anchors>
									<MaskedTextures>
										<MaskedTexture childKey="P2R"/>
										<MaskedTexture childKey="B2P"/>
										<MaskedTexture childKey="C2B"/>
										<MaskedTexture childKey="G2C"/>
										<MaskedTexture childKey="Y2G"/>
										<MaskedTexture childKey="R2Y"/>
									</MaskedTextures>
								</MaskTexture>
							</Layer>

						</Layers>
						<ThumbTexture parentKey="Thumb" name="$parentThumb" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane">
							<Size x="8" y="16"/>
							<TexCoords left="0.9375" right="0.96875" top="0" bottom="0.0625"/>
							<Color r="0" g="0" b="0" a="0.0"/>
						</ThumbTexture>
						<Scripts>
							<OnEnter>
								if not self:GetParent().SaturationSlider.IsActive then
									self.Thumb:SetTexCoord(0.96875, 1, 0, 0.0625);
								end
							</OnEnter>
							<OnLeave>
								if not self.IsActive then
									self.Thumb:SetTexCoord(0.9375, 0.96875, 0, 0.0625);
								end
							</OnLeave>
							<OnValueChanged function="NarciModelControl_HueSlider_OnValueChanged"/>
							<OnMouseDown>
								self.IsActive = true;
							</OnMouseDown>
							<OnMouseUp>
								self.IsActive = false;
								if not self:IsMouseOver() then
									self.Thumb:SetTexCoord(0.9375, 0.96875, 0, 0.0625);
								end
							</OnMouseUp>
							<OnHide>
								self.IsActive = false;
							</OnHide>
						</Scripts>
					</Slider>
					<Slider name="NarciModelControl_SaturationSlider" parentKey="SaturationSlider" orientation="HORIZONTAL" enableMouse="true" valueStep="0.01" obeyStepOnDrag="true" minValue="0" maxValue="1">
						<Size x="156" y="12"/>
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent.HueSlider" relativePoint="BOTTOM"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture setAllPoints="true" parentKey="Color">
									<Color r="0" g="0" b="0" a="1"/>
									<Anchors>
										<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" y="-1"/>
										<Anchor point="TOPRIGHT" relativePoint="TOPRIGHT" y="1"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="ARTWORK">
								<Texture setAllPoints="true" parentKey="Color">
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="1" g="1" b="1"/>
										<MaxColor r="1" g="0" b="0"/>
									</Gradient>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPLEFT" y="-1"/>
										<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT"/>
									</Anchors>
								</Texture>
								<MaskTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\GradientBar-Mask" hWrapMode="CLAMPTOBLACKADDITIVE" vWrapMode="CLAMPTOBLACKADDITIVE">
									<Size x="194" y="24"/>
									<Anchors>
										<Anchor point="BOTTOM" relativePoint="BOTTOM"/>
									</Anchors>
									<MaskedTextures>
										<MaskedTexture childKey="Color"/>
									</MaskedTextures>
								</MaskTexture>
							</Layer>
							<Layer level="ARTWORK" textureSubLevel="2">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane">
									<TexCoords left="0.40625" right="1" top="0.2109375" bottom="0.296875"/>
									<Size x="168" y="24"/>
									<Anchors>
										<Anchor point="BOTTOM" relativePoint="BOTTOM"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<ThumbTexture parentKey="Thumb" name="$parentThumb" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane">
							<Size x="8" y="16"/>
							<TexCoords left="0.9375" right="0.96875" top="0.0625" bottom="0"/>
							<Color r="0" g="0" b="0" a="0.0"/>
						</ThumbTexture>
						<Scripts>
							<OnEnter>
								if not self:GetParent().HueSlider.IsActive then
									self.Thumb:SetTexCoord(0.96875, 1, 0.0625, 0);
								end
							</OnEnter>
							<OnLeave>
								if not self.IsActive then
									self.Thumb:SetTexCoord(0.9375, 0.96875, 0.0625, 0);
								end
							</OnLeave>
							<OnValueChanged function="NarciModelControl_SaturationSlider_OnValueChanged"/>
							<OnMouseDown>
								self.IsActive = true;
							</OnMouseDown>
							<OnMouseUp>
								self.IsActive = false;
								if not self:IsMouseOver() then
									self.Thumb:SetTexCoord(0.9375, 0.96875, 0.0625, 0);
								end
							</OnMouseUp>
							<OnHide>
								self.IsActive = false;
							</OnHide>
						</Scripts>
					</Slider>
					<Slider name="NarciModelControl_BrightnessSlider" parentKey="BrightnessSlider" orientation="HORIZONTAL" enableMouse="true" valueStep="0.01" obeyStepOnDrag="true" minValue="0.01" maxValue="1">
						<Size x="178" y="0.001"/>
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.$parent.ColorPresets.Color1" relativePoint="BOTTOMLEFT" x="7" y="-2"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<Texture setAllPoints="true" parentKey="Color">
									<Color r="1.0" g="1.0" b="1.0" a="1"/>
									<Gradient orientation="HORIZONTAL">
										<MinColor r="0" g="0" b="0"/>
										<MaxColor r="1" g="0" b="0"/>
									</Gradient>
									<Anchors>
										<Anchor point="TOPLEFT" relativePoint="TOPLEFT" x="-1" y="-4"/>
										<Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMRIGHT" x="1" y="3.5"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="ARTWORK" textureSubLevel="2">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane">
									<TexCoords left="0.31640625" right="1" top="0.9140625" bottom="1"/>
									<Size x="192" y="24"/>
									<Anchors>
										<Anchor point="CENTER" relativePoint="CENTER"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<ThumbTexture parentKey="Thumb" name="$parentThumb" file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane">
							<Size x="8" y="16"/>
							<TexCoords left="0.9375" right="0.96875" top="0.0625" bottom="0.125"/>
							<Color r="0" g="0" b="0" a="0.0"/>
						</ThumbTexture>
						<Scripts>
							<OnEnter>
								if not self:GetParent().HueSlider.IsActive then
									self.Thumb:SetTexCoord(0.96875, 1, 0.0625, 0.125);
								end
							</OnEnter>
							<OnLeave>
								if not self.IsActive then
									self.Thumb:SetTexCoord(0.9375, 0.96875, 0.0625, 0.125);
								end
							</OnLeave>
							<OnValueChanged function="NarciModelControl_BrightnessSlider_OnValueChanged"/>
							<OnMouseDown>
								self.IsActive = true;
							</OnMouseDown>
							<OnMouseUp>
								self.IsActive = false;
								if not self:IsMouseOver() then
									self.Thumb:SetTexCoord(0.9375, 0.96875, 0.0625, 0.125);
								end
							</OnMouseUp>
							<OnHide>
								self.IsActive = false;
							</OnHide>
						</Scripts>
					</Slider>
				</Frames>
			</Frame>
			
			<Frame inherits="Narci_AnimationOptionFrameTemplate_1x4" parentKey="Sheath" name="Narci_AnimationOptionFrame_Sheath">
				<Size x="96" y="24"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.ColorSliders.BrightnessSlider" relativePoint="BOTTOMLEFT" x="-7" y="-6"/>	<!--(0, -8)-->
				</Anchors>
				<Frames>
					<Button parentKey="button" inherits="Narci_PlaceHolderButtonRound" hidden="false">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="0"/>
						</Anchors>
						<Scripts>
							<OnClick function="Narci_Model_SetSheath"/>
						</Scripts>
					</Button>
				</Frames>				
				<Scripts>
					<OnLoad>
						self.button.Highlight:Show();
						self.button.IsOn = true;
					</OnLoad>
				</Scripts>
			</Frame>

			<Frame inherits="Narci_AnimationOptionFrameTemplate_1x4" parentKey="Idle" name="Narci_AnimationOptionFrame_Idle">
				<Size x="96" y="24"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.Sheath" relativePoint="TOPRIGHT" x="0" y="0"/>
				</Anchors>
				<Frames>
					<Button parentKey="button" inherits="Narci_Model_PlayAnimationTemplate" id="804" hidden="false"  name="Narci_Model_IdleButton">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="0"/>
						</Anchors>
					<Scripts>
						<OnClick function="Narci_Model_Idle"/>
						<OnLoad>
							self.IsOn = true;
							self.Highlight:Show();
						</OnLoad>
					</Scripts>
					</Button>
				</Frames>	
				<Scripts>
					<OnLoad>
						self.Label:SetText(NARCI_STAND_IDLY);
					</OnLoad>
				</Scripts>
			</Frame>

			<Button name="Narci_SlotLayerButton" inherits="Narci_RoundedRectangleTemplate_White" parentKey="ModelLayer" id="1">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.TopView" relativePoint="TOPRIGHT" x="27"/>
				</Anchors>
			</Button>

			<Button name="Narci_PlayerModelLayerButton" inherits="Narci_RoundedRectangleTemplate_White" id="2">
				<Anchors>
					<Anchor point="LEFT" relativeKey="$parent.TopView" relativePoint="RIGHT" x="27"/>
				</Anchors>
				<Frames>
					<Frame parentKey="ColorButtons" hidden="true">
						<Frames>
							<Button inherits="Narci_PlaceHolderButtonRound" parentKey="Green">
								<Anchors>
									<Anchor point="RIGHT" relativeTo="Narci_PlayerModelLayerButton" relativePoint="RIGHT" x="-12"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.r, self.g, self.b = 0, 177/255, 64/255;
										self.Color:SetColorTexture(self.r, self.g, self.b);
										self.Border:SetTexCoord(0.8359375, 0.921875, 0, 0.171875)
									</OnLoad>
									<OnClick>
										Narci_CharacterModelContainer.ChromaKey:SetColorTexture(self.r, self.g, self.b);
										self.Border:Show();
										self.Border:SetTexCoord(0.8359375, 0.921875, 0, 0.171875)
										self:GetParent().Blue.Border:SetTexCoord(0.75, 0.8359375, 0, 0.171875)
									</OnClick>
								</Scripts>
							</Button>
							<Button inherits="Narci_PlaceHolderButtonRound" parentKey="Blue">
								<Anchors>
									<Anchor point="RIGHT" relativeKey="$parent.Green" relativePoint="RIGHT" x="-24"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.r, self.g, self.b = 0, 71/255, 187/255;
										self.Color:SetColorTexture(self.r, self.g, self.b);
									</OnLoad>
									<OnClick>
										Narci_CharacterModelContainer.ChromaKey:SetColorTexture(self.r, self.g, self.b);
										self.Border:SetTexCoord(0.8359375, 0.921875, 0, 0.171875)
										self:GetParent().Green.Border:SetTexCoord(0.75, 0.8359375, 0, 0.171875)
									</OnClick>
								</Scripts>
							</Button>
						</Frames>
						<Scripts>
							<OnHide>
								self:Hide();
							</OnHide>
						</Scripts>						
					</Frame>
				</Frames>
			</Button>

			<Button name="Narci_BackgroundLayerButton" inherits="Narci_RoundedRectangleTemplate_White" id="3" hidden="true" Alph="0">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeKey="$parent.TopView" relativePoint="BOTTOMRIGHT" x="27"/>
				</Anchors>
			</Button>

			<Slider inherits="NarciModelSliderTemplate" name="Narci_Model_VignetteSlider">
				<Anchors>
					<Anchor point="BOTTOMRIGHT" relativeTo="Narci_BackgroundLayerButton" relativePoint="BOTTOMRIGHT" x="-10"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						self.Icon:SetTexCoord(0.25, 0.5, 0, 1);
					</OnLoad>
					<OnValueChanged function="Narci_Model_VignetteSlider_OnValueChanged"/>
					<OnShow>
						self:SetValue(NarcissusDB.VignetteStrength or 0.8)
					</OnShow>
				</Scripts>
			</Slider>

			<Slider inherits="NarciModelSliderTemplate" name="Narci_Model_DarknessSlider" parentKey="DarknessSlider">
				<Anchors>
					<Anchor point="TOPRIGHT" relativeTo="Narci_BackgroundLayerButton" relativePoint="BOTTOMRIGHT" x="-10"/>
				</Anchors>
				<Scripts>
					<OnValueChanged function="Narci_Model_DarknessSlider_OnValueChanged"/>
					<OnShow>
						self:SetValue(0);
					</OnShow>
				</Scripts>
			</Slider>

			<Button name="Narci_GroundShadowOption" parentKey="GroundShadowOption">
				<Size x="192" y="24"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.Idle" relativePoint="TOPRIGHT" x="30" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" hidden="false" parentKey="Background" name="Narci_GroundShadowOption_BackgroundTexture">
							<TexCoords left="0" right="0.72265625" top="0.10546875" bottom="0.2109375"/>
							<Size x="202" y="30"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer lvel="OVERLAY">
						<FontString justifyH="LEFT" justifyV="MIDDLE" maxLines="1" inherits="NarciIndicatorLetter" parentKey="Label">
							<Size x="0" y="0"/>
							<Anchors>
								<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="28" y="0"/>
							</Anchors>
						</FontString>
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="2">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" hidden="false">
							<TexCoords left="0" right="0.72265625" top="0" bottom="0.10546875"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativeTo="Narci_GroundShadowOption_BackgroundTexture" relativePoint="TOPLEFT" x="0" y="0"/>
								<Anchor point="BOTTOMRIGHT" relativeTo="Narci_GroundShadowOption_BackgroundTexture" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<HighlightTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1">
					<TexCoords left="0" right="0.72265625" top="0.2109375" bottom="0.31640625"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Background" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Background" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</HighlightTexture>
				<Frames>
					<Button parentKey="ResetButton" name="Narci_GroundShadowOption_Reset">
						<Size x="36" y="30"/>
						<HitRectInsets>
							<AbsInset left="6" right="6" top="3" bottom="3"/>
						</HitRectInsets>
						<Anchors>
							<Anchor point="LEFT" relativePoint="LEFT" x="-5"/>
						</Anchors>
						<Layers>
							<Layer level="BACKGROUND">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" hidden="false" parentKey="Background" setAllPoints="true">
									<TexCoords left="0" right="0.125" top="0.31640625" bottom="0.421875"/>
								</Texture>
							</Layer>
							<Layer level="ARTWORK">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" setAllPoints="true" hidden="true" parentKey="Highlight">
									<TexCoords left="0.125" right="0.25" top="0.31640625" bottom="0.421875"/>
								</Texture>
							</Layer>
							<Layer level="OVERLAY">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" parentKey="Icon">
									<TexCoords left="0.875" right="1" top="0" bottom="0.125"/>
									<Size x="30" y="30"/>
									<Anchors>
										<Anchor point="CENTER"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self.IsOn = false;
							</OnLoad>
							<OnEnter>
								self.Highlight:Show();
							</OnEnter>
							<OnLeave>
								self.Highlight:Hide();
							</OnLeave>
							<OnMouseDown>
								self.Icon:SetSize(26, 26);
							</OnMouseDown>
							<OnMouseUp>
								self.Icon:SetSize(30, 30);
							</OnMouseUp>
							<OnClick function="Narci_GroundShadowOption_ResetButton_OnClick"/>
						</Scripts>	
					</Button>
				</Frames>
				<Scripts>
					<OnLoad>
						self.Label:SetText(NARCI_GROUND_SHADOW)
						self.IsOn = false;
						self.Label:SetTextColor(0.6, 0.6, 0.6)
					</OnLoad>
					<OnHide function="Narci_GroundShadowOption_OnHide"/>
					<OnClick function="Narci_GroundShadowOption_OnClick"/>
				</Scripts>	
			</Button>

			<Button inherits="Narci_Model_PlayAnimation1x5Template" parentKey="HidePlayerButton" name="Narci_HidePlayerButton">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.GroundShadowOption" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						self.Label:SetText(NARCI_HIDE_PLAYER);
					</OnLoad>
					<OnShow>
						self.IsOn = false;
						self:UnlockHighlight();
						self.Label:SetTextColor(0.6, 0.6, 0.6);
						self:RegisterEvent("PLAYER_LEAVING_WORLD");
					</OnShow>
					<OnClick function="Narci_Model_HidePlayer_OnClick"/>
					<OnHide>
						if self.IsOn then
							ConsoleExec( "showPlayer 1");
						end
						self:UnregisterEvent("PLAYER_LEAVING_WORLD");
					</OnHide>
					<OnEvent>
						if self.IsOn then
							ConsoleExec( "showPlayer 1");
						end					
					</OnEvent>
				</Scripts>
			</Button>

			<Button inherits="Narci_Model_PlayAnimation1x5Template" parentKey="CompactModeButton" name="Narci_Model_CompactModeButton">
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.HidePlayerButton" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
				</Anchors>
				<Scripts>
					<OnLoad>
						self.Label:SetText(NARCI_LAYOUT_3)
					</OnLoad>
					<OnShow>
						self.IsOn = false;
						self:UnlockHighlight();
						self.Label:SetTextColor(0.6, 0.6, 0.6)
						if NarcissusDB.DefaultLayout == 3 then
							self:Click();
						end
					</OnShow>
					<OnClick function="Narci_Model_UseCompactMode_OnClick"/>
					<OnHide>
						Narci_Xmog_UseCompactMode(false);
					</OnHide>
				</Scripts>
			</Button>

			<Button name="Narci_Model_CaptureButton">
				<Size x="55" y="60"/>
				<HitRectInsets>
					<AbsInset left="13" right="13" top="17" bottom="7"/>
				</HitRectInsets>
				<Anchors>
					<Anchor point="TOPRIGHT" relativeKey="$parent.GroundShadowOption" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" hidden="false" parentKey="Background">
							<TexCoords left="0" right="0.25" top="0.421875" bottom="0.671875"/>
							<Size x="68" y="68"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer lvel="OVERLAY">
						<FontString justifyH="CENTER" justifyV="MIDDLE" maxLines="1" inherits="NarciIndicatorLetter" parentKey="Value" text="0">
							<Size x="0" y="0"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="TOPRIGHT" x="-11" y="-14"/>
							</Anchors>
						</FontString>
					</Layer>
				</Layers>
				<HighlightTexture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\SecondPane" Alpha="1" hidden="true">
					<TexCoords left="0" right="0.25" top="0.671875" bottom="0.921875"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Background" relativePoint="TOPLEFT" x="0" y="0"/>
						<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Background" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
					</Anchors>
				</HighlightTexture>
				<Scripts>
					<OnClick function="Narci_Model_CaptureButton_OnClick"/>
					<OnEnter function="Narci_Model_CaptureButton_OnEnter"/>
					<OnLeave function="Narci_Model_CaptureButton_OnLeave"/>
					<OnHide>
						self:Enable();
					</OnHide>
				</Scripts>
			</Button>

			<Frame name="Narci_AnimationOptionFrame" parentKey="OptionFrame" frameLevel="4">
				<Size x="192" y="24"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.Sheath" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" name="Narci_AnimationBackground">
							<TexCoords left="0" right="0.72265625" top="0.10546875" bottom="0.2109375"/>
							<Size x="202" y="30"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Button parentKey="tab1" id="1" name="Narci_AnimationOptionFrame_Tab1">
						<Size x="99" y="30"/>
						<HitRectInsets>
							<AbsInset left="3" right="5" top="5" bottom="5"/>
						</HitRectInsets>						
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="0"/>
						</Anchors>
						<Layers>
							<Layer level="ARTWORK">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Background">
									<TexCoords left="0" right="0.376953125" top="0.2109375" bottom="0.31640625"/>
									<Size x="99" y="30"/>
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="OVERLAY" textureSubLevel="1">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" parentKey="Highlight" hidden="true">
									<TexCoords left="0" right="0.376953125" top="0.31640625" bottom="0.421875"/>
									<Size x="99" y="30"/>
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="OVERLAY" textureSubLevel="3">
								<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" text="Ranged Weapon" maxLines="1" parentKey="Label">
									<Size x="90" y="0"/>
									<Color r="0.25" g="0.78" b="0.92" a="1"/>
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="8" y="0"/>
									</Anchors>
								</FontString>
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\Arrows\Arrow-V" Alpha="1" parentKey="Arrow">
									<Size x="8" y="8"/>
									<Anchors>
										<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="-11" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self.IsOn = false;
							</OnLoad>
							<OnClick function="Narci_AnimationOption_MainTabButton_OnClick"/>
							<OnEnter>
								self.Highlight:Show();
							</OnEnter>
							<OnLeave>
								self.Highlight:Hide();
							</OnLeave>							
						</Scripts>
					</Button>

					<Button parentKey="Anim14" inherits="Narci_Model_PlayAnimation1x4Template" id="110" hidden="false">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="0"/>
						</Anchors>
					</Button>
				
					<Button parentKey="Anim13" inherits="Narci_Model_PlayAnimation1x4Template" id="48" hidden="false">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent.Anim14" relativePoint="LEFT" x="0"/>
						</Anchors>
					</Button>

					<Button parentKey="Anim12" inherits="Narci_Model_PlayAnimation1x4Template" id="109" hidden="false">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent.Anim13" relativePoint="LEFT" x="0"/>
						</Anchors>
					</Button>

					<Button parentKey="Anim11" inherits="Narci_Model_PlayAnimation1x4Template" id="29" hidden="false">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent.Anim12" relativePoint="LEFT" x="0"/>
						</Anchors>
					</Button>

					<Frame parentKey="OtherTab" hidden="true">
						<Size x="99" y="22"/>				
						<Anchors>
							<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="0"/>
						</Anchors>
						<Frames>
							<Button inherits="Narci_OtherTabButton_Template" parentKey="tab2" id="2">				
								<Anchors>
									<Anchor point="TOPLEFT" relativeKey="$parent" relativePoint="BOTTOMLEFT" x="0"/>
								</Anchors>
							</Button>
							<Button inherits="Narci_OtherTabButtonBottom_Template" parentKey="tab3" id="3">				
								<Anchors>
									<Anchor point="TOPLEFT" relativeKey="$parent.tab2" relativePoint="BOTTOMLEFT" x="0"/>
								</Anchors>
							</Button>
						</Frames>			
					</Frame>
				</Frames>
				<Scripts>
					<OnLoad function="Narci_AnimationOptionFrame_OnLoad"/>
				</Scripts>	
			</Frame>

			<Frame name="Narci_AnimationIDFrame">
				<Size x="192" y="24"/>
				<Anchors>
					<Anchor point="TOPLEFT" relativeKey="$parent.OptionFrame" relativePoint="BOTTOMLEFT" x="0" y="-4"/>
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" name="Narci_AnimationBackground2">
							<TexCoords left="0" right="0.72265625" top="0.10546875" bottom="0.2109375"/>
							<Size x="202" y="30"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<EditBox parentKey="tab1" id="1" name="NarciModelControl_AnimationIDEditBox" numeric="true" autoFocus="false" letters="4" multiLine="false">
						<Size x="56" y="30"/>
						<Anchors>
							<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0"/>
						</Anchors>
						<HitRectInsets>
							<AbsInset left="5" right="5" top="5" bottom="5"/>
						</HitRectInsets>
						<FontString inherits="NarciIndicatorLetter" justifyH="CENTER" justifyV="MIDDLE" text="1" maxLines="1" parentKey="ID">
							<Size x="50" y="0"/>
							<Color r="0.25" g="0.78" b="0.92" a="1"/>
							<Anchors>
								<Anchor point="CENTER" relativeKey="$parent" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</FontString>											
						<Layers>
							<Layer level="BORDER">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Background">
									<TexCoords left="0" right="0.203125" top="0.806640625" bottom="0.912109375"/>
									<Size x="56" y="30"/>
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent" relativePoint="LEFT" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="ARTWORK" textureSubLevel="1">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" parentKey="Highlight" hidden="true" setAllPoints="true">
									<TexCoords left="0.203125" right="0.40625" top="0.806640625" bottom="0.912109375"/>
									<Anchors>
										<Anchor point="TOPLEFT" relativeKey="$parent.Background" relativePoint="TOPLEFT" x="0" y="0"/>
										<Anchor point="BOTTOMRIGHT" relativeKey="$parent.Background" relativePoint="BOTTOMRIGHT" x="0" y="0"/>
									</Anchors>
								</Texture>
							</Layer>
							<Layer level="OVERLAY" textureSubLevel="3">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false">
									<TexCoords left="0" right="0.72265625" top="0" bottom="0.10546875"/>
									<Size x="202" y="30"/>
									<Anchors>
										<Anchor point="CENTER" relativeTo="Narci_AnimationBackground2" relativePoint="CENTER" x="0" y="0"/>
									</Anchors>
								</Texture>
								<FontString inherits="NarciIndicatorLetter" justifyH="LEFT" justifyV="MIDDLE" text="NARCI_ANIMATION_ID" maxLines="1" parentKey="Label">
									<Size x="90" y="0"/>
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent.$parent" relativePoint="LEFT" x="9" y="0"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Scripts>
							<OnLoad>
								self.animationID_Max = 1472;
								self.IsOn = false;
								self:SetNumber(0)
							</OnLoad>
							<OnEnter>
								self.Highlight:Show();
							</OnEnter>
							<OnLeave>
								if not self:HasFocus() then
									self.Highlight:Hide();
								end
							</OnLeave>
							<OnEscapePressed>
								self:ClearFocus();
							</OnEscapePressed>
							<OnEnterPressed>
								self:ClearFocus();
							</OnEnterPressed>
							<OnEditFocusLost function="NarciModelControl_AnimationIDEditBox_OnEditFocusLost"/>	
						</Scripts>
					</EditBox>

					<Button parentKey="Pause" inherits="Narci_Model_AnimationControlButtonTemplate" hidden="false" name="NarciModelControl_PauseAnimationButton">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent" relativePoint="RIGHT" x="0"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Icon">
									<TexCoords left="0.125" right="0.1875" top="0.9375" bottom="1"/>
									<Size x="20" y="20"/>
									<Anchors>
										<Anchor point="CENTER" x="0"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnClick function="NarciModelControl_PauseAnimationButton_OnClick"/>
							<OnHide>
								self.IsOn = false;
								self.Highlight:Hide();
							</OnHide>
						</Scripts>
					</Button>

					<Slider inherits="NarciModelSliderTemplate" name="NarciModelControl_AnimationSlider" valueStep="1" obeyStepOnDrag="true" defaultValue="1" minValue="1" maxValue="2000" parentKey="AnimFrameSlider" hidden="true">
						<Anchors>
							<Anchor point="TOPRIGHT" relativeKey="$parent" relativePoint="BOTTOMRIGHT" x="-8" y="-2"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self.Icon:SetTexCoord(0.5, 0.75, 0, 1);
							</OnLoad>
							<OnValueChanged function="NarciModelControl_AnimationSlider_OnValueChanged"/>
							<OnShow>
								--self:SetValue(1);
							</OnShow>
							<OnHide>
								self:Hide();
							</OnHide>
						</Scripts>
					</Slider>

					<Button parentKey="Play" inherits="Narci_Model_AnimationControlButtonTemplate" hidden="false" name="NarciModelControl_PlayAnimationButton">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent.Pause" relativePoint="LEFT" x="0"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Icon">
									<TexCoords left="0" right="0.0625" top="0.9375" bottom="1"/>
									<Size x="20" y="20"/>
									<Anchors>
										<Anchor point="CENTER" x="1"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnClick function="NarciModelControl_PlayAnimationButton_OnClick"/>
							<OnShow>
								self.IsOn = true;
								self.Highlight:Show();
							</OnShow>
						</Scripts>
					</Button>

					<Button name="NarciModelControl_NextAnimationButton" parentKey="Next" inherits="Narci_Model_AnimationControlButtonTemplate" hidden="false" registerForClicks="LeftButtonUp, RightButtonUp">
						<Anchors>
							<Anchor point="RIGHT" relativeKey="$parent.Play" relativePoint="LEFT" x="0"/>
						</Anchors>
						<Layers>
							<Layer level="OVERLAY">
								<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false" parentKey="Icon">
									<TexCoords left="0.0625" right="0.125" top="0.9375" bottom="1"/>
									<Size x="20" y="20"/>
									<Anchors>
										<Anchor point="CENTER" x="0.25"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Scripts>
							<OnClick function="NarciModelControl_NextAnimationButton_OnClick"/>
						</Scripts>
					</Button>
				</Frames>
				<Scripts>

				</Scripts>	
			</Frame>			
			
			<Frame frameLevel="10">
				<Layers>
					<Layer level="OVERLAY" textureSubLevel="5">
						<Texture file="Interface\AddOns\Narcissus\Art\Widgets\LightSetup\Pane" Alpha="1" hidden="false">
							<TexCoords left="0" right="0.72265625" top="0" bottom="0.10546875"/>
							<Size x="202" y="30"/>
							<Anchors>
								<Anchor point="CENTER" relativeTo="Narci_AnimationBackground" relativePoint="CENTER" x="0" y="0"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
			</Frame>
		</Frames>
		<Scripts>
			<OnLoad>
				self:RegisterForDrag("LeftButton");
			</OnLoad>
			<OnHide function="Narci_CharacterModelSettings_OnHide"/>
			<OnDragStart>
				self:StartMoving();
			</OnDragStart>
			<OnDragStop>
				self:StopMovingOrSizing();
			</OnDragStop>
		</Scripts>
	</Frame>
</Ui>